@using System.Security.Claims
@model IEnumerable<Chat> 
<html>
<h1>chat selection screen</h1>
<body>
    <div class="main-menu"
     <div class="side-menu">
         @try
         { 
              @foreach(var Chat in Model){
                  @if (!Chat.Users.Any(u => u.AccountId == User.FindFirst(ClaimTypes.NameIdentifier).Value))
                    {   
                <a class="roomBtn" asp-controller="chat" asp-action="joinRoom" asp-route-id="@Chat.Id">
                @Chat.naam  ||
                </a>
                    }
                  else
                    {                      
                  <a class="roomBtn" asp-controller="chat" asp-action="chat" asp-route-id="@Chat.Id">
                <br> @Chat.naam  |
                </a>
                    }  
                }
        }
         catch
         {}
        <a class="room-button" id="Create_Room+" href="#">
            <strong>+</strong>
        </a>
    </div>
     
    </div> 
    </div>

    <div class="modal" id="room_modal">
        <form asp-controller="Chat" asp-action="chatSelection" class="modal-body">
            <header>create room</header>
            <div>
                <button onclick="closemodal">X</button>
            </div>
            <div>
                <input name="name">
            </div>
            <footer>
                <button>create</button>
            </footer>
        </form>
    </div>
</body>
</html>